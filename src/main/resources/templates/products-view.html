<!DOCTYPE html>
<html>
<head>
	<title>Product List</title>
	<style>
	table {
		border-collapse: collapse;
		width: 100%;
		margin-bottom: 20px;
	}
	th, td {
		text-align: left;
		padding: 8px;
		border: 1px solid #555; /*change border color*/
		color: #ddd; /*change text color*/
	}
	th {
		background-color: #333; /*change header background color*/
		font-weight: normal;
	}
	tr:hover {
		background-color: #444; /*change hover background color*/
	}
	input[type=submit] {
		background-color: #444; /*change button background color*/
		border: none;
		color: white;
		padding: 10px 20px;
		text-align: center;
		text-decoration: none;
		display: inline-block;
		font-size: 16px;
		margin: 4px 2px;
		cursor: pointer;
	}
	body {
		background-color: #222; /*change body background color*/
		color: #ddd; /*change body text color*/
	}
	
	input[type=submit]:hover {
  background-color: #32CD32;
  box-shadow: 0px 0px 20px #32CD32;
  transition: 0.5s;
}

</style>

</head>
<body>
	<h1>Catalougue</h1>
	<form action="bidPage">
		<table>
			<thead>
				<tr>
					<th>Name</th>
					<th>Current Price</th>
					<th>Auction Type</th>
					<th class="time-remaining">Time Remaining</th>
					<th>Select</th>
				</tr>
			</thead>
			<tbody>
				<!-- Use th:each instead of c:forEach for HTML pages -->
				<!-- Use th:text instead of ${} for HTML pages -->
				<tr th:each="product : ${products}">
					<td th:text="${product.name}"></td>
					<td th:text="${product.price}"></td>
					<td th:text="${product.type}"></td>
					<td class="time-remaining" th:text="${product.time}"></td>
					<td><input type="radio" th:name="'selectedProduct'" th:value="${product.id}" /></td>
				</tr>
			</tbody>
		</table>
		<input type="submit" value="BID" />
	</form>
</body>
</html>

    <script>
        // Select all time remaining cells
        const timeCells = document.querySelectorAll('.time-remaining');

        // Update time remaining every second
        setInterval(() => {
            timeCells.forEach(cell => {
                const remainingTime = parseInt(cell.textContent);
                if (remainingTime > 0) {
                    cell.textContent = remainingTime - 1;
                }
            });
        }, 1000);
    </script>