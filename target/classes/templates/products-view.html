<!DOCTYPE html>
<html>
<head>
	<title>Product List</title>
	<style>
		table {
			border-collapse: collapse;
			width: 100%;
			margin-bottom: 20px;
		}
		th, td {
			text-align: left;
			padding: 8px;
			border: 1px solid #ddd;
		}
		th {
			background-color: #f2f2f2;
			font-weight: normal;
		}
		tr:hover {
			background-color: #f5f5f5;
		}
		input[type=submit] {
			background-color: #4CAF50;
			border: none;
			color: white;
			padding: 10px 20px;
			text-align: center;
			text-decoration: none;
			display: inline-block;
			font-size: 16px;
			margin: 4px 2px;
			cursor: pointer;
		}
	</style>
</head>
<body>
	<h1>Product List</h1>
	<form action="bidPage">
		<table>
			<thead>
				<tr>
					<th>Name</th>
					<th>Current Price</th>
					<th>Auction Type</th>
					<th class="time-remaining">Time Remaining</th>
					<th>Select</th>
				</tr>
			</thead>
			<tbody>
				<!-- Use th:each instead of c:forEach for HTML pages -->
				<!-- Use th:text instead of ${} for HTML pages -->
				<tr th:each="product : ${products}">
					<td th:text="${product.name}"></td>
					<td th:text="${product.price}"></td>
					<td th:text="${product.type}"></td>
					<td class="time-remaining" th:text="${product.time}"></td>
					<td><input type="radio" th:name="'selectedProduct'" th:value="${product.id}" /></td>
				</tr>
			</tbody>
		</table>
		<input type="submit" value="BID" />
	</form>
</body>
</html>

    <script>
        // Select all time remaining cells
        const timeCells = document.querySelectorAll('.time-remaining');

        // Update time remaining every second
        setInterval(() => {
            timeCells.forEach(cell => {
                const remainingTime = parseInt(cell.textContent);
                if (remainingTime > 0) {
                    cell.textContent = remainingTime - 1;
                }
            });
        }, 1000);
    </script>